(function(t){function e(e){for(var n,o,r=e[0],l=e[1],c=e[2],u=0,v=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&v.push(a[o][0]),a[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(v.length)v.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,r=1;r<i.length;r++){var l=i[r];0!==a[l]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},a={app:0},s=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"07bb":function(t,e,i){},1023:function(t,e,i){t.exports=i.p+"img/BECSLink-logo.3c3802de.png"},2501:function(t,e,i){t.exports=i.p+"img/alice-si-logo.5917b3ba.png"},"2a94":function(t,e){},"30a9":function(t,e,i){"use strict";var n=i("2a94"),a=i.n(n);e["default"]=a.a},"46dd":function(t,e,i){"use strict";var n=i("623e"),a=i.n(n);a.a},"497d":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"top-bar"}},[n("div",{attrs:{id:"logos-panel"}},[t._m(0),n("div",{staticClass:"logo logo-right"},[n("img",{attrs:{src:i("2501")},on:{click:function(e){return t.clearData()}}})])])]),n("div",{staticClass:"dashboard-wrapper"},[n("Dashboard")],1)])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo logo-left"},[n("img",{attrs:{src:i("1023")}})])}];i("7f7f");function o(t){return"becslink_demo_".concat(t)}var r={initiatives:{},schools:{},serviceProviders:{},hacks:{},upsertInitiative:function(t){this.defaultUpsert(t,"initiatives")},upsertSchool:function(t){this.defaultUpsert(t,"schools")},upsertServiceProvider:function(t){this.defaultUpsert(t,"serviceProviders")},deleteInitiative:function(t){this.defaultDelete(t,"initiatives")},loadCollectionDataFromLocalStorage:function(t){try{console.log("Loading ".concat(t," data from local storage"));var e=localStorage[o(t)];if(!e)return;var i=JSON.parse(e);n["a"].set(this,t,i)}catch(a){console.log(a)}},loadStateFromLocalStorage:function(){for(var t=0,e=["initiatives","schools","serviceProviders"];t<e.length;t++){var i=e[t];this.loadCollectionDataFromLocalStorage(i)}},updateCollectionInLocalStorage:function(t){localStorage[o(t)]=JSON.stringify(this[t])},defaultUpsert:function(t,e){console.log("Updating collection: ".concat(e)),n["a"].set(this[e],t.name,t),this.updateCollectionInLocalStorage(e)},defaultDelete:function(t,e){console.log("Deleting el ".concat(t," from ").concat(e));var i=Object.assign({},this[e]);delete i[t],n["a"].set(this,e,i),this.updateCollectionInLocalStorage(e)},clearCollection:function(t){n["a"].set(this,t,{}),this.updateCollectionInLocalStorage(t)},clearState:function(){for(var t=0,e=["initiatives","schools","serviceProviders"];t<e.length;t++){var i=e[t];console.log("Removing collection: ".concat(i)),this.clearCollection(i)}}},l=r,c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-wizard-container"},[i("form-wizard",{attrs:{color:"#9355de",title:"",subtitle:""},on:{"on-complete":t.onComplete}},[i("tab-content",{attrs:{title:"Initiatives and parties setup",icon:"ti-settings"}},[i("InitiativesSetup")],1),i("tab-content",{attrs:{title:"Goals per Service Provider",icon:"ti-view-list-alt"}},[i("GoalsSetup")],1),i("tab-content",{attrs:{title:"Students and teachers",icon:"ti-user"}},[i("StudentsAndTeachersSetup")],1),i("tab-content",{attrs:{title:"Sponsors and ESGs",icon:"ti-check"}},[i("SponsorsAndESGsSetup")],1)],1)],1)},d=[],u=i("2ee4"),v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"initiatives-setup-container"},[i("AddNew",{attrs:{postAdd:t.postAdd,isPanelOpen:t.isPanelOpen,collection:t.collectionForAdding,entityTitle:t.entityTitleForAdding,onAddPanelClosing:t.onAddPanelClosing}}),i("div",{staticClass:"mdl-grid"},t._l(t.initiatives,(function(e){return i("Initiative",{key:e.name,attrs:{editing:t.editing[e.name],data:e,saveInitiative:t.saveInitiative,deleteInitiative:t.deleteInitiative,startEditing:t.startEditing,addSchool:t.addSchool,addServiceProvider:t.addServiceProvider}})})),1),i("div",{staticClass:"add-new-link",on:{click:function(e){return t.addNewInitiative()}}},[t._v("\n    + Add initiative\n  ")])],1)},p=[],f=(i("ac6a"),i("8615"),i("55dd"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"md-layout-item md-size-50 initiative"},[i("div",{staticClass:"mdl-cell mdl-cell--12-col"},[i("div",{staticClass:"mdl-card mdl-shadow--2dp"},[t.editing?i("form",{attrs:{action:"#"}},[i("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputs.name,expression:"inputs.name"}],staticClass:"mdl-textfield__input",attrs:{type:"text",id:"name"},domProps:{value:t.inputs.name},on:{input:function(e){e.target.composing||t.$set(t.inputs,"name",e.target.value)}}}),i("label",{staticClass:"mdl-textfield__label",attrs:{for:"sample1"}},[t._v("Name")])]),i("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputs.cost,expression:"inputs.cost"}],staticClass:"mdl-textfield__input",attrs:{type:"text",pattern:"-?[0-9]*(\\.[0-9]+)?",id:"sample4"},domProps:{value:t.inputs.cost},on:{input:function(e){e.target.composing||t.$set(t.inputs,"cost",e.target.value)}}}),i("label",{staticClass:"mdl-textfield__label",attrs:{for:"sample4"}},[t._v("Cost (£)")]),i("span",{staticClass:"mdl-textfield__error"},[t._v("Input is not a number!")])]),i("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputs.upfront,expression:"inputs.upfront"}],staticClass:"mdl-textfield__input",attrs:{type:"text",pattern:"-?[0-9]*(\\.[0-9]+)?",id:"sample4"},domProps:{value:t.inputs.upfront},on:{input:function(e){e.target.composing||t.$set(t.inputs,"upfront",e.target.value)}}}),i("label",{staticClass:"mdl-textfield__label",attrs:{for:"sample4"}},[t._v("Upfront allocation (%)")]),i("span",{staticClass:"mdl-textfield__error"},[t._v("Input is not a number!")])]),i("SchoolsSelector",{attrs:{selected:t.inputs.schools,updateSelection:t.updateSelectedSchools,addNewSchool:t.addSchool}}),i("ServiceProviderSelector",{attrs:{selected:t.inputs.serviceProviders,updateSelection:t.updateSelectedServiceProviders,addNewServiceProvider:t.addServiceProvider}})],1):t._e(),t.editing?t._e():i("div",{staticClass:"initiative-details"},[i("h3",[t._v(t._s(t.data.name))]),i("h6",[t._v("Cost: £"+t._s(t.data.cost)+" | Upfront: "+t._s(t.data.upfront)+"%")])]),t.editing?t._e():i("div",{staticClass:"additional-details lightgray-bg"},[i("h5",[t._v("Schools")]),i("ul",t._l(t.data.schools,(function(e){return i("li",{key:e.name},[t._v("\n            "+t._s(e.name)+"\n          ")])})),0)]),t.editing?t._e():i("div",{staticClass:"additional-details"},[i("h5",[t._v("Service providers")]),i("ul",t._l(t.data.serviceProviders,(function(e){return i("li",{key:e.name},[t._v("\n            "+t._s(e.name)+"\n          ")])})),0)]),i("div",{staticClass:"manage-icons"},[t.editing?i("span",{staticClass:"manage-icon",on:{click:function(e){return t.saveInitiative(t.inputs,t.data)}}},[i("i",{staticClass:"material-icons"},[t._v("save")])]):t._e(),t.editing?t._e():i("span",{staticClass:"manage-icon",on:{click:function(e){return t.startEditing(t.data)}}},[i("i",{staticClass:"material-icons"},[t._v("edit")])]),t.editing?t._e():i("span",{staticClass:"manage-icon",on:{click:function(e){return t.deleteInitiative(t.data.name)}}},[i("i",{staticClass:"material-icons"},[t._v("delete")])])])])])])}),m=[],h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h6",[t._v("Schools")]),i("Selector",{attrs:{selected:t.selected,addNew:t.addNewSchool,updateSelection:t.updateSelection,collection:"schools"},on:{"update:selected":function(e){t.selected=e}}})],1)},g=[],S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"multiselect-wrapper"},[i("Multiselect",{attrs:{options:t.options,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,selectLabel:"",placeholder:"Pick some",label:"name","track-by":"name","preselect-first":!1},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},b=[],_=(i("7514"),i("456d"),i("8e5f")),C=i.n(_),w="+ Add new",P={props:{selected:Array,collection:String,addNew:Function,updateSelection:Function},components:{Multiselect:C.a},data:function(){return{state:l,value:this.selected}},computed:{options:function(){var t=Object.keys(this.state[this.collection]).map((function(t){return{name:t}}));return t.push({name:w}),t}},watch:{value:function(t){if(t.find((function(t){return t.name==w}))){this.value=this.value.filter((function(t){return t.name!==w}));var e=this;this.state.hacks.onAddingComplete=function(t){var i=e.value;i.push({name:t}),n["a"].set(e,"value",i)},this.addNew()}this.updateSelection(this.value)}}},x=P,y=i("2877"),I=Object(y["a"])(x,S,b,!1,null,"77496854",null),O=I.exports,A={components:{Selector:O},props:{selected:Array,updateSelection:Function,addNewSchool:Function}},j=A,N=Object(y["a"])(j,h,g,!1,null,"4e3f9124",null),k=N.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h6",[t._v("Service providers")]),i("Selector",{attrs:{selected:t.selected,updateSelection:t.updateSelection,addNew:t.addNewServiceProvider,collection:"serviceProviders"}})],1)},F=[],$={components:{Selector:O},props:{selected:Array,updateSelection:Function,addNewServiceProvider:Function}},T=$,L=Object(y["a"])(T,E,F,!1,null,"0b8c649c",null),D=L.exports,G={components:{SchoolsSelector:k,ServiceProviderSelector:D},data:function(){return{inputs:{name:this.data.name,cost:this.data.cost,upfront:this.data.upfront,schools:this.data.schools,serviceProviders:this.data.serviceProviders}}},props:{editing:Boolean,data:Object,saveInitiative:Function,startEditing:Function,deleteInitiative:Function,addSchool:Function,addServiceProvider:Function},methods:{updateSelectedSchools:function(t){this.inputs.schools=t},updateSelectedServiceProviders:function(t){this.inputs.serviceProviders=t}}},U=G,M=(i("46dd"),Object(y["a"])(U,f,m,!1,null,"63794242",null)),z=M.exports,J=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sidebar"},[t.isPanelOpen?i("div",{staticClass:"sidebar-backdrop",on:{click:t.closeSidebarPanel}}):t._e(),i("transition",{attrs:{name:"slide"}},[t.isPanelOpen?i("div",{staticClass:"sidebar-panel"},[i("div",[i("h3",[t._v("Add new "+t._s(t.entityTitle))]),i("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputs.name,expression:"inputs.name"}],staticClass:"mdl-textfield__input",attrs:{type:"text",id:"name"},domProps:{value:t.inputs.name},on:{input:function(e){e.target.composing||t.$set(t.inputs,"name",e.target.value)}}}),i("label",{staticClass:"mdl-textfield__label",attrs:{for:"sample1"}},[t._v("Name")])]),i("button",{staticClass:"mdl-button mdl-js-button mdl-button--raised mdl-button--colored",on:{click:function(e){return t.save()}}},[t._v("\n                Save\n              ")])])]):t._e()])],1)},B=[],W={props:{collection:String,entityTitle:String,isPanelOpen:Boolean,postAdd:Function,onAddPanelClosing:Function},data:function(){return{inputs:{name:""},state:l}},methods:{closeSidebarPanel:function(){this.onAddPanelClosing()},save:function(){this.inputs.name?this.state[this.collection][this.inputs.name]?window.toastr.warning("".concat(this.entityTitle,' with the name "').concat(this.inputs.name,'" already exists')):(this.state.defaultUpsert(this.inputs,this.collection),this.postAdd(this.collection,this.inputs),this.inputs.name="",this.closeSidebarPanel()):window.toastr.warning("Name can not be empty")}}},H=W,R=(i("6d0e"),Object(y["a"])(H,J,B,!1,null,null,null)),Y=R.exports,q={data:function(){return{state:l,editing:{"":!0},addingInitiative:!1,addingSchool:!1,addingServiceProvider:!1}},components:{Initiative:z,AddNew:Y},computed:{initiatives:function(){var t=Object.values(this.state.initiatives).sort((function(t,e){return t.name.localeCompare(e.name)}));return this.addingInitiative&&t.push({name:""}),t},collectionForAdding:function(){return this.addingSchool?"schools":"serviceProviders"},entityTitleForAdding:function(){return this.addingSchool?"school":"service provider"},isPanelOpen:function(){return this.addingSchool||this.addingServiceProvider}},methods:{addNewInitiative:function(){this.addingInitiative=!0},addSchool:function(){n["a"].set(this,"addingServiceProvider",!1),n["a"].set(this,"addingSchool",!0)},addServiceProvider:function(){n["a"].set(this,"addingServiceProvider",!0),n["a"].set(this,"addingSchool",!1)},onAddPanelClosing:function(){n["a"].set(this,"addingServiceProvider",!1),n["a"].set(this,"addingSchool",!1)},postAdd:function(t,e){this.state.hacks.onAddingComplete&&this.state.hacks.onAddingComplete(e.name)},saveInitiative:function(t,e){""!=t.name?t.name!=e.name&&this.state.initiatives[t.name]?window.toastr.warning('Initiative with the name: "'.concat(t.name,'" already exists.')+" Please select another name"):(this.state.deleteInitiative(e.name),this.state.upsertInitiative(t),this.addingInitiative=!1,n["a"].set(this.editing,t.name,!1)):window.toastr.warning("Initiative name cannot be empty")},startEditing:function(t){n["a"].set(this.editing,t.name,!0)},deleteInitiative:function(t){confirm("Are you sure you want to remove the ".concat(t," initiative?"))&&this.state.deleteInitiative(t)}}},K=q,Q=(i("aa93"),Object(y["a"])(K,v,p,!1,null,"fcee1778",null)),V=Q.exports,X=i("56d9"),Z=i("664e"),tt=i("8def"),et=(i("da93"),{components:{FormWizard:u["FormWizard"],TabContent:u["TabContent"],InitiativesSetup:V,GoalsSetup:X["default"],StudentsAndTeachersSetup:Z["default"],SponsorsAndESGsSetup:tt["default"]},methods:{onComplete:function(){alert("Yay. Done!")}}}),it=et,nt=(i("6a2c"),Object(y["a"])(it,c,d,!1,null,"fd97820a",null)),at=nt.exports;l.loadStateFromLocalStorage();var st={name:"app",components:{Dashboard:at},methods:{clearData:function(){confirm("Are you sure you want to remove all the data (initiatives, schools, service providers)?")&&l.clearState()}}},ot=st,rt=(i("60bc"),i("b0a0"),Object(y["a"])(ot,a,s,!1,null,null,null)),lt=rt.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(lt)}}).$mount("#app"),n["a"].directive("mdl",{bind:function(t){t&&window.componentHandler.upgradeElement(t)}})},"56d9":function(t,e,i){"use strict";var n=i("9919"),a=i("b38b"),s=i("2877"),o=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,"5c302958",null);e["default"]=o.exports},"57f3":function(t,e){},"623e":function(t,e,i){},"664e":function(t,e,i){"use strict";var n=i("b2bb"),a=i("30a9"),s=i("2877"),o=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,"70018bef",null);e["default"]=o.exports},"6a2c":function(t,e,i){"use strict";var n=i("e9f6"),a=i.n(n);a.a},"6d0e":function(t,e,i){"use strict";var n=i("497d"),a=i.n(n);a.a},"82f1":function(t,e,i){"use strict";var n=i("57f3"),a=i.n(n);e["default"]=a.a},"87d1":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sponsors-and-esgs-setup-container"},[i("h2",[t._v("Sponsors and ESGs setup will be here")])])}];i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return a}))},"8def":function(t,e,i){"use strict";var n=i("87d1"),a=i("82f1"),s=i("2877"),o=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,"ba59b4f2",null);e["default"]=o.exports},9919:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"goals-setup-container"},[i("h2",[t._v("Goals setup")])])}];i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return a}))},aa93:function(t,e,i){"use strict";var n=i("fc15"),a=i.n(n);a.a},b0a0:function(t,e,i){"use strict";var n=i("07bb"),a=i.n(n);a.a},b2bb:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"students-and-teachers-setup-container"},[i("h2",[t._v("Students and teachers setup will be here")])])}];i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return a}))},b38b:function(t,e,i){"use strict";var n=i("eb6c"),a=i.n(n);e["default"]=a.a},e9f6:function(t,e,i){},eb6c:function(t,e){},fc15:function(t,e,i){}});
//# sourceMappingURL=app.3cf4cef0.js.map