(function(t){function e(e){for(var a,o,l=e[0],r=e[1],c=e[2],u=0,v=[];u<l.length;u++)o=l[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&v.push(i[o][0]),i[o]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);d&&d(e);while(v.length)v.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,l=1;l<n.length;l++){var r=n[l];0!==i[r]&&(a=!1)}a&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},i={app:0},s=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=r;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0408":function(t,e,n){},"05fe":function(t,e,n){"use strict";var a=n("0cf8"),i=n.n(a);i.a},"07bb":function(t,e,n){},"0cf8":function(t,e,n){},1023:function(t,e,n){t.exports=n.p+"img/BECSLink-logo.3c3802de.png"},"1fa6":function(t,e,n){},2501:function(t,e,n){t.exports=n.p+"img/alice-si-logo.5917b3ba.png"},"2fe3":function(t,e,n){"use strict";var a=n("997d"),i=n.n(a);i.a},"497d":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"top-bar"}},[a("div",{attrs:{id:"logos-panel"}},[t._m(0),a("div",{staticClass:"logo logo-right"},[a("img",{attrs:{src:n("2501")},on:{click:function(e){return t.clearData()}}})])])]),a("div",{staticClass:"dashboard-wrapper"},[a("Dashboard")],1)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo logo-left"},[a("img",{attrs:{src:n("1023")}})])}];n("7f7f"),n("ac4d"),n("8a81"),n("ac6a");function o(t){return"becslink_demo_".concat(t)}var l={collections:["initiatives","schools","serviceProviders","students"],initiatives:{},schools:{},serviceProviders:{},students:{asd:{id:"asd"},qwe:{id:"qwe"}},hacks:{},upsertInitiative:function(t){this.defaultUpsert(t,"initiatives")},upsertSchool:function(t){this.defaultUpsert(t,"schools")},upsertServiceProvider:function(t){this.defaultUpsert(t,"serviceProviders")},deleteInitiative:function(t){this.defaultDelete(t,"initiatives")},addStudent:function(t){console.log("Adding student: ".concat(t.id)),a["a"].set(this.students,t.id,Object.assign({},t))},addStudents:function(t){var e=!0,n=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){var o=i.value;this.addStudent(o)}}catch(l){n=!0,a=l}finally{try{e||null==s.return||s.return()}finally{if(n)throw a}}this.updateCollectionInLocalStorage("students")},deleteAllStudents:function(){console.log("Deleting all students"),a["a"].set(this,"students",{}),this.updateCollectionInLocalStorage("students")},updateServiceProviderGoal:function(t,e){console.log("updating goals for service provider ".concat(t)),this.serviceProviders[t].goals||a["a"].set(this.serviceProviders[t],"goals",{}),a["a"].set(this.serviceProviders[t].goals,e.createdAt,e),this.updateCollectionInLocalStorage("serviceProviders")},deleteServiceProviderGoal:function(t,e){console.log('deleting goal "'.concat(e.name,'" for service provider ').concat(t)),a["a"].delete(this.serviceProviders[t].goals,e.createdAt),this.updateCollectionInLocalStorage("serviceProviders")},loadCollectionDataFromLocalStorage:function(t){try{console.log("Loading ".concat(t," data from local storage"));var e=localStorage[o(t)];if(!e)return;var n=JSON.parse(e);a["a"].set(this,t,n)}catch(i){console.log(i)}},loadStateFromLocalStorage:function(){var t=!0,e=!1,n=void 0;try{for(var a,i=this.collections[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var s=a.value;this.loadCollectionDataFromLocalStorage(s)}}catch(o){e=!0,n=o}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}},updateCollectionInLocalStorage:function(t){localStorage[o(t)]=JSON.stringify(this[t])},defaultUpsert:function(t,e){console.log("Updating collection: ".concat(e)),a["a"].set(this[e],t.name,Object.assign({},t)),this.updateCollectionInLocalStorage(e)},defaultDelete:function(t,e){console.log("Deleting el ".concat(t," from ").concat(e));var n=Object.assign({},this[e]);delete n[t],a["a"].set(this,e,n),this.updateCollectionInLocalStorage(e)},clearCollection:function(t){a["a"].set(this,t,{}),this.updateCollectionInLocalStorage(t)},clearState:function(){var t=!0,e=!1,n=void 0;try{for(var a,i=this.collections[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var s=a.value;console.log("Removing collection: ".concat(s)),this.clearCollection(s)}}catch(o){e=!0,n=o}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}}},r=l,c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-wizard-container"},[n("form-wizard",{ref:"fwizard",attrs:{color:"#1cb8c4",title:"",subtitle:""},on:{"on-change":t.onStepChanged,"on-complete":t.onComplete}},[n("tab-content",{staticClass:"tab-content",attrs:{title:"Initiatives and parties setup",icon:"ti-settings"}},[n("InitiativesSetup")],1),n("tab-content",{staticClass:"tab-content",attrs:{title:"Goals per Service Provider",icon:"ti-view-list-alt"}},[n("GoalsSetup")],1),n("tab-content",{staticClass:"tab-content",attrs:{title:"Students and teachers",icon:"ti-user"}},[n("StudentsAndTeachersSetup")],1),n("tab-content",{staticClass:"tab-content",attrs:{title:"Sponsors and ESGs",icon:"ti-check"}},[n("SponsorsAndESGsSetup")],1)],1)],1)},d=[],u=(n("6762"),n("2fdb"),n("c5f6"),n("2ee4")),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"initiatives-setup-container"},[n("h4",[t._v("Create initiatives, Service providers and Schools")]),n("div",{staticClass:"add-new-link",on:{click:function(e){return t.addNewInitiative()}}},[t._v("\n    + Add initiative\n  ")]),n("AddNew",{attrs:{postAdd:t.postAdd,isPanelOpen:t.isPanelOpen,collection:t.collectionForAdding,entityTitle:t.entityTitleForAdding,onAddPanelClosing:t.onAddPanelClosing}}),n("div",{staticClass:"mdl-grid"},t._l(t.initiatives,(function(e){return n("Initiative",{key:e.name,attrs:{editing:t.editing[e.name]||""==e.name,data:e,saveInitiative:t.saveInitiative,deleteInitiative:t.deleteInitiative,startEditing:t.startEditing,addSchool:t.addSchool,addServiceProvider:t.addServiceProvider,cancelEditing:t.cancelEditing}})})),1)],1)},m=[],f=(n("8615"),n("55dd"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"md-layout-item md-size-50 initiative"},[n("div",{staticClass:"mdl-cell mdl-cell--12-col"},[n("div",{staticClass:"mdl-card mdl-shadow--2dp"},[t.editing?n("form",{attrs:{action:"#"}},[n("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputs.name,expression:"inputs.name"}],staticClass:"mdl-textfield__input",attrs:{type:"text",id:"name"},domProps:{value:t.inputs.name},on:{input:function(e){e.target.composing||t.$set(t.inputs,"name",e.target.value)}}}),n("label",{staticClass:"mdl-textfield__label",attrs:{for:"sample1"}},[t._v("Name")])]),n("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputs.cost,expression:"inputs.cost"}],staticClass:"mdl-textfield__input",attrs:{type:"text",pattern:"-?[0-9]*(\\.[0-9]+)?",id:"sample4"},domProps:{value:t.inputs.cost},on:{input:function(e){e.target.composing||t.$set(t.inputs,"cost",e.target.value)}}}),n("label",{staticClass:"mdl-textfield__label",attrs:{for:"sample4"}},[t._v("Cost (£)")]),n("span",{staticClass:"mdl-textfield__error"},[t._v("Input is not a number!")])]),n("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputs.upfront,expression:"inputs.upfront"}],staticClass:"mdl-textfield__input",attrs:{type:"text",pattern:"-?[0-9]*(\\.[0-9]+)?",id:"sample4"},domProps:{value:t.inputs.upfront},on:{input:function(e){e.target.composing||t.$set(t.inputs,"upfront",e.target.value)}}}),n("label",{staticClass:"mdl-textfield__label",attrs:{for:"sample4"}},[t._v("Upfront allocation (%)")]),n("span",{staticClass:"mdl-textfield__error"},[t._v("Input is not a number!")])]),n("SchoolsSelector",{attrs:{selected:t.inputs.schools,updateSelection:t.updateSelectedSchools,addNewSchool:t.addSchool}}),n("ServiceProviderSelector",{staticClass:"service-provider-selector",attrs:{selected:t.inputs.serviceProviders,updateSelection:t.updateSelectedServiceProviders,addNewServiceProvider:t.addServiceProvider}})],1):t._e(),t.editing?t._e():n("div",{staticClass:"initiative-details"},[n("h3",[t._v(t._s(t.data.name))]),n("h6",[t._v("Cost: £"+t._s(t.data.cost)+" | Upfront: "+t._s(t.data.upfront)+"%")])]),t.editing?t._e():n("div",{staticClass:"additional-details lightgray-bg"},[n("h5",[t._v("Schools")]),n("ul",t._l(t.data.schools,(function(e){return n("li",{key:e.name},[t._v("\n            "+t._s(e.name)+"\n          ")])})),0)]),t.editing?t._e():n("div",{staticClass:"additional-details additional-details-bottom"},[n("h5",[t._v("Service providers")]),n("ul",t._l(t.data.serviceProviders,(function(e){return n("li",{key:e.name},[t._v("\n            "+t._s(e.name)+"\n          ")])})),0)]),n("div",{staticClass:"manage-icons"},[t.editing?n("button",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--fab",on:{click:function(e){return t.cancelEditing(t.data)}}},[n("i",{staticClass:"material-icons"},[t._v("close")])]):t._e(),t.editing?n("button",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--fab",on:{click:function(e){return t.saveInitiative(t.inputs,t.data)}}},[n("i",{staticClass:"material-icons"},[t._v("done")])]):t._e(),t.editing?t._e():n("button",{staticClass:"mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--fab",on:{click:function(e){return t.startEditing(t.data)}}},[n("i",{staticClass:"material-icons"},[t._v("edit")])]),t.editing?t._e():n("button",{staticClass:"mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--fab",on:{click:function(e){return t.deleteInitiative(t.data.name)}}},[n("i",{staticClass:"material-icons"},[t._v("delete")])])])])])])}),p=[],h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h6",[t._v("Schools")]),n("Selector",{attrs:{selected:t.selected,addNew:t.addNewSchool,updateSelection:t.updateSelection,collection:"schools"},on:{"update:selected":function(e){t.selected=e}}})],1)},g=[],b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"multiselect-wrapper"},[n("Multiselect",{attrs:{options:t.options,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,searchable:!1,deselectLabel:"",selectLabel:"",placeholder:"Pick some",label:"name","track-by":"name","preselect-first":!1},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},_=[],S=(n("7514"),n("456d"),n("8e5f")),C=n.n(S),w="+ Add new",P={props:{selected:Array,collection:String,addNew:Function,updateSelection:Function},components:{Multiselect:C.a},data:function(){return{state:r,value:this.selected}},computed:{options:function(){var t=Object.keys(this.state[this.collection]).map((function(t){return{name:t}}));return t.push({name:w}),t}},watch:{value:function(t){if(t.find((function(t){return t.name==w}))){this.value=this.value.filter((function(t){return t.name!==w}));var e=this;this.state.hacks.onAddingComplete=function(t){var n=e.value;n.push({name:t}),a["a"].set(e,"value",n)},this.addNew()}this.updateSelection(this.value)}}},x=P,O=(n("05fe"),n("2877")),y=Object(O["a"])(x,b,_,!1,null,null,null),N=y.exports,A={components:{Selector:N},props:{selected:Array,updateSelection:Function,addNewSchool:Function}},E=A,j=Object(O["a"])(E,h,g,!1,null,"4e3f9124",null),k=j.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h6",[t._v("Service providers")]),n("Selector",{attrs:{selected:t.selected,updateSelection:t.updateSelection,addNew:t.addNewServiceProvider,collection:"serviceProviders"}})],1)},F=[],G={components:{Selector:N},props:{selected:Array,updateSelection:Function,addNewServiceProvider:Function}},$=G,D=Object(O["a"])($,I,F,!1,null,"0b8c649c",null),U=D.exports,L={components:{SchoolsSelector:k,ServiceProviderSelector:U},data:function(){return{inputs:{name:this.data.name,cost:this.data.cost,upfront:this.data.upfront,schools:this.data.schools,serviceProviders:this.data.serviceProviders}}},props:{editing:Boolean,data:Object,saveInitiative:Function,startEditing:Function,cancelEditing:Function,deleteInitiative:Function,addSchool:Function,addServiceProvider:Function},methods:{updateSelectedSchools:function(t){this.inputs.schools=t},updateSelectedServiceProviders:function(t){this.inputs.serviceProviders=t}}},T=L,B=(n("832c"),Object(O["a"])(T,f,p,!1,null,"7c2323c5",null)),M=B.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidebar"},[t.isPanelOpen?n("div",{staticClass:"sidebar-backdrop",on:{click:t.closeSidebarPanel}}):t._e(),n("transition",{attrs:{name:"slide"}},[t.isPanelOpen?n("div",{staticClass:"sidebar-panel"},[n("div",[n("h3",[t._v("Add new "+t._s(t.entityTitle))]),n("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputs.name,expression:"inputs.name"}],staticClass:"mdl-textfield__input",attrs:{type:"text",id:"name"},domProps:{value:t.inputs.name},on:{input:function(e){e.target.composing||t.$set(t.inputs,"name",e.target.value)}}}),n("label",{staticClass:"mdl-textfield__label",attrs:{for:"sample1"}},[t._v("Name")])]),n("button",{staticClass:"mdl-button mdl-js-button mdl-button--raised mdl-button--colored",on:{click:function(e){return t.save()}}},[t._v("\n                Save\n              ")])])]):t._e()])],1)},R=[],q={props:{collection:String,entityTitle:String,isPanelOpen:Boolean,postAdd:Function,onAddPanelClosing:Function},data:function(){return{inputs:{name:""},state:r}},methods:{closeSidebarPanel:function(){this.onAddPanelClosing()},save:function(){this.inputs.name?this.state[this.collection][this.inputs.name]?window.toastr.warning("".concat(this.entityTitle,' with the name "').concat(this.inputs.name,'" already exists')):(this.state.defaultUpsert(this.inputs,this.collection),this.postAdd(this.collection,this.inputs),this.inputs.name="",this.closeSidebarPanel()):window.toastr.warning("Name can not be empty")}}},J=q,H=(n("6d0e"),Object(O["a"])(J,z,R,!1,null,null,null)),Q=H.exports,W={data:function(){return{state:r,editing:{"":!0},addingInitiative:!1,addingSchool:!1,addingServiceProvider:!1}},components:{Initiative:M,AddNew:Q},computed:{initiatives:function(){var t=Object.values(this.state.initiatives).sort((function(t,e){return t.name.localeCompare(e.name)}));return this.addingInitiative&&t.push({name:""}),t},collectionForAdding:function(){return this.addingSchool?"schools":"serviceProviders"},entityTitleForAdding:function(){return this.addingSchool?"school":"service provider"},isPanelOpen:function(){return this.addingSchool||this.addingServiceProvider}},methods:{addNewInitiative:function(){this.addingInitiative=!0},addSchool:function(){a["a"].set(this,"addingServiceProvider",!1),a["a"].set(this,"addingSchool",!0)},addServiceProvider:function(){a["a"].set(this,"addingServiceProvider",!0),a["a"].set(this,"addingSchool",!1)},onAddPanelClosing:function(){a["a"].set(this,"addingServiceProvider",!1),a["a"].set(this,"addingSchool",!1)},postAdd:function(t,e){this.state.hacks.onAddingComplete&&this.state.hacks.onAddingComplete(e.name)},saveInitiative:function(t,e){""!=t.name?t.name!=e.name&&this.state.initiatives[t.name]?window.toastr.warning('Initiative with the name: "'.concat(t.name,'" already exists.')+" Please select another name"):(this.state.deleteInitiative(e.name),this.state.upsertInitiative(t),this.addingInitiative=!1,a["a"].set(this.editing,t.name,!1)):window.toastr.warning("Initiative name cannot be empty")},startEditing:function(t){a["a"].set(this.editing,t.name,!0)},cancelEditing:function(t){a["a"].set(this.editing,t.name,!1),t.name||(this.addingInitiative=!1)},deleteInitiative:function(t){confirm("Are you sure you want to remove the ".concat(t," initiative?"))&&this.state.deleteInitiative(t)}}},V=W,Y=(n("5e00"),Object(O["a"])(V,v,m,!1,null,"be82e432",null)),K=Y.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goals-setup-container"},[t._m(0),t._l(t.serviceProviders,(function(t){return n("GoalsForServiceProvider",{key:t,attrs:{serviceProvider:t}})}))],2)},Z=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h4",[t._v("Define goals per Service Provider,"),n("br"),t._v(" costs and payment terms")])}],tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h5",[t._v("Goals for "+t._s(t.serviceProvider))]),n("table",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-data-table mdl-js-data-table"},[t._m(0),n("tbody",[t._l(t.goals,(function(e){return n("tr",{key:e.createdAt,class:{hidden:e.name==t.goalOnEditName}},[t.goalOnEditName!=e.name?n("td",[t._v("\n            "+t._s(e.name)+"\n          ")]):t._e(),t.goalOnEditName!=e.name?n("td",[t._v("\n            £"+t._s(e.costPerUnit)+"\n          ")]):t._e(),t.goalOnEditName!=e.name?n("td",[t._v("\n            "+t._s(e.numberOfUnits)+" ")]):t._e(),t.goalOnEditName!=e.name?n("td",[t._v("\n            £"+t._s(e.costPerUnit*e.numberOfUnits)+" ")]):t._e(),t.goalOnEditName!=e.name?n("td",[t._v("\n              "+t._s(e.allocate)+"%\n              (£"+t._s(e.allocate*(e.costPerUnit*e.numberOfUnits)/100)+")\n          ")]):t._e(),t.goalOnEditName!=e.name?n("td",[n("span",{staticClass:"manage-icon",on:{click:function(n){return t.startGoalEdition(e)}}},[n("i",{staticClass:"material-icons"},[t._v("edit")])]),n("span",{staticClass:"manage-icon",on:{click:function(n){return t.deleteGoal(e)}}},[n("i",{staticClass:"material-icons"},[t._v("delete")])])]):t._e()])})),t.addingNewGoal||t.goalOnEditName?n("GoalFormRow",{staticClass:"form-row",attrs:{onSaveButtonClick:t.saveGoal,onCancelButtonClick:t.onCancelButtonClick,goal:t.goalOnEditData}}):t._e()],2)]),n("div",{staticClass:"add-new-link",on:{click:function(e){return t.startNewGoalEditing()}}},[t._v("\n    + Add new goal for "+t._s(t.serviceProvider)+"\n  ")])])},et=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v(" Goal ")]),n("th",[t._v(" Cost per unit ")]),n("th",[t._v(" Number of units ")]),n("th",[t._v(" Total cost ")]),n("th",[t._v(" Allocate ")]),n("th",[t._v(" Actions ")])])])}],nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{staticClass:"form-row"},[n("td",[n("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.goal.name,expression:"goal.name"}],staticClass:"mdl-textfield__input",attrs:{type:"text",id:"name"},domProps:{value:t.goal.name},on:{input:function(e){e.target.composing||t.$set(t.goal,"name",e.target.value)}}}),n("label",{staticClass:"mdl-textfield__label",attrs:{for:"sample1"}},[t._v("Name")])])]),n("td",[n("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.goal.costPerUnit,expression:"goal.costPerUnit"}],staticClass:"mdl-textfield__input",attrs:{type:"text",pattern:"-?[0-9]*(\\.[0-9]+)?",id:"sample4"},domProps:{value:t.goal.costPerUnit},on:{input:function(e){e.target.composing||t.$set(t.goal,"costPerUnit",e.target.value)}}}),n("label",{staticClass:"mdl-textfield__label",attrs:{for:"sample4"}},[t._v("Cost per unit (£)")]),n("span",{staticClass:"mdl-textfield__error"},[t._v("Input is not a number!")])])]),n("td",[n("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.goal.numberOfUnits,expression:"goal.numberOfUnits"}],staticClass:"mdl-textfield__input",attrs:{type:"text",pattern:"-?[0-9]*(\\.[0-9]+)?",id:"sample4"},domProps:{value:t.goal.numberOfUnits},on:{input:function(e){e.target.composing||t.$set(t.goal,"numberOfUnits",e.target.value)}}}),n("label",{staticClass:"mdl-textfield__label",attrs:{for:"sample4"}},[t._v("Number of units")]),n("span",{staticClass:"mdl-textfield__error"},[t._v("Input is not a number!")])])]),n("td"),n("td",[n("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.goal.allocate,expression:"goal.allocate"}],staticClass:"mdl-textfield__input",attrs:{type:"text",pattern:"-?[0-9]*(\\.[0-9]+)?",id:"sample4"},domProps:{value:t.goal.allocate},on:{input:function(e){e.target.composing||t.$set(t.goal,"allocate",e.target.value)}}}),n("label",{staticClass:"mdl-textfield__label",attrs:{for:"sample4"}},[t._v("Allocate (%)")]),n("span",{staticClass:"mdl-textfield__error"},[t._v("Input is not a number!")])])]),n("td",[n("span",{staticClass:"manage-icon",on:{click:function(e){return t.onCancelButtonClick()}}},[n("i",{staticClass:"material-icons"},[t._v("cancel")])]),n("span",{staticClass:"manage-icon",on:{click:function(e){return t.onSaveButtonClick()}}},[n("i",{staticClass:"material-icons"},[t._v("save")])])])])},at=[],it={props:{goal:Object,onSaveButtonClick:Function,onCancelButtonClick:Function}},st=it,ot=(n("b4a1"),Object(O["a"])(st,nt,at,!1,null,"0ee89f4c",null)),lt=ot.exports,rt={components:{GoalFormRow:lt},data:function(){return{state:r,addingNewGoal:!1,goalOnEditName:"",goalOnEditData:{}}},props:{serviceProvider:String},methods:{startNewGoalEditing:function(){a["a"].set(this,"goalOnEditName",""),a["a"].set(this,"addingNewGoal",!0)},startGoalEdition:function(t){a["a"].set(this,"goalOnEditName",t.name),a["a"].set(this,"addingNewGoal",!1),a["a"].set(this,"goalOnEditData",t)},validateGoalData:function(){var t;if(this.goalOnEditData.allocate||(t="Allocate"),this.goalOnEditData.numberOfUnits||(t="Number of units"),this.goalOnEditData.costPerUnit||(t="Cost per unit"),this.goalOnEditData.name||(t="Name"),t){var e='"'.concat(t,'" is required');throw window.toastr.warning(e),new Error(e)}},deleteGoal:function(t){confirm('Are you sure you want to delete "'.concat(t.name,'" goal?'))&&this.state.deleteServiceProviderGoal(this.serviceProvider,t)},saveGoal:function(){this.validateGoalData();var t=Object.assign({},this.goalOnEditData);t.createdAt||(t.createdAt=Date.now()),this.state.updateServiceProviderGoal(this.serviceProvider,t),this.goalOnEditData={},a["a"].set(this,"goalOnEditName",""),a["a"].set(this,"addingNewGoal",!1)},onCancelButtonClick:function(){a["a"].set(this,"goalOnEditName",""),a["a"].set(this,"addingNewGoal",!1)}},computed:{goals:function(){var t=this.state.serviceProviders[this.serviceProvider].goals;return t?Object.values(t):[]}}},ct=rt,dt=(n("d2ed"),Object(O["a"])(ct,tt,et,!1,null,"68ced0ab",null)),ut=dt.exports,vt={components:{GoalsForServiceProvider:ut},data:function(){return{state:r}},computed:{serviceProviders:function(){return Object.keys(this.state.serviceProviders)}}},mt=vt,ft=Object(O["a"])(mt,X,Z,!1,null,"28522a3a",null),pt=ft.exports,ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"students-and-teachers-setup-container"},[n("AddStudentsPanel",{attrs:{isPanelOpen:t.isPanelOpen,onAddPanelClosing:t.onAddPanelClosing}}),n("h4",[t._v("Create IDs for Students")]),n("div",{staticClass:"add-new-link",on:{click:function(e){return t.openAddPanel()}}},[t._v("\n    + Add students\n  ")]),n("div",{staticClass:"delete-students-button-container",on:{click:function(e){return t.deleteStudents()}}},[n("i",{staticClass:"material-icons"},[t._v("delete")])]),n("StudentsList")],1)},gt=[],bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-data-table mdl-js-data-table"},[t._m(0),n("tbody",t._l(t.students,(function(e){return n("tr",{key:e.id},[n("td",[n("qrcode-vue",{attrs:{value:e.id,size:70,level:"H"}})],1),n("td",[t._v(t._s(e.id))]),n("td",[t._v(t._s(e.school))]),n("td",[t._v(t._s(e.age))])])})),0)])},_t=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v(" QR code ")]),n("th",[t._v(" Student ID ")]),n("th",[t._v(" School ")]),n("th",[t._v(" Age range ")])])])}],St=n("d7b0"),Ct={components:{QrcodeVue:St["a"]},data:function(){return{state:r}},methods:{addStudents:function(){window.toastr.warning("Not implemented yet")}},computed:{students:function(){return this.state.students?Object.values(this.state.students):[]}}},wt=Ct,Pt=(n("e27e"),Object(O["a"])(wt,bt,_t,!1,null,"2c262846",null)),xt=Pt.exports,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidebar"},[t.isPanelOpen?n("div",{staticClass:"sidebar-backdrop",on:{click:t.closeSidebarPanel}}):t._e(),n("transition",{attrs:{name:"slide"}},[t.isPanelOpen?n("div",{staticClass:"sidebar-panel"},[n("div",[n("h4",[t._v("Add students")]),n("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label students-number"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.studentsNumber,expression:"studentsNumber"}],staticClass:"mdl-textfield__input",attrs:{type:"text",pattern:"-?[0-9]*(\\.[0-9]+)?",id:"sample4"},domProps:{value:t.studentsNumber},on:{input:function(e){e.target.composing||(t.studentsNumber=e.target.value)}}}),n("label",{staticClass:"mdl-textfield__label",attrs:{for:"sample4"}},[t._v("Number of students to generate")]),n("span",{staticClass:"mdl-textfield__error"},[t._v("Input is not a number!")])]),n("h6",[t._v("School")]),n("Multiselect",{staticClass:"select",attrs:{options:t.schools,multiple:!1,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!0,searchable:!1,selectLabel:"",deselectLabel:"",placeholder:"Pick the school",label:"name","track-by":"name","preselect-first":!1},model:{value:t.selectedSchool,callback:function(e){t.selectedSchool=e},expression:"selectedSchool"}}),n("h6",[t._v("Age range")]),n("Multiselect",{staticClass:"select",attrs:{options:t.ageRanges,multiple:!1,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!0,searchable:!1,selectLabel:"",deselectLabel:"",placeholder:"Pick the age range",label:"name","track-by":"name","preselect-first":!1},model:{value:t.selectedAge,callback:function(e){t.selectedAge=e},expression:"selectedAge"}}),n("div",[n("button",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--fab",on:{click:function(e){return t.add()}}},[n("i",{staticClass:"material-icons"},[t._v("add")])])])],1)]):t._e()])],1)},yt=[],Nt=n("a80f"),At={components:{Multiselect:C.a},props:{isPanelOpen:Boolean,onAddPanelClosing:Function},data:function(){return{studentsNumber:3,selectedSchool:"",selectedAge:"",state:r}},computed:{schools:function(){return Object.values(this.state.schools)},ageRanges:function(){return[{name:"2005 - 2007"},{name:"2008 - 2010"},{name:"2010 - 2012"}]}},methods:{closeSidebarPanel:function(){this.onAddPanelClosing()},validateField:function(t,e){if(!t){var n="".concat(e," can not be empty");throw window.toastr.warning(n),n}},generateNewStudent:function(t,e){return{id:Nt["hri"].random(),school:t,age:e}},generateNewStudents:function(t,e,n){for(var a=[],i=0;i<t;i++)console.log("Generating a new student"),a.push(this.generateNewStudent(e,n));return a},add:function(){this.validateField(this.studentsNumber,"Students number"),this.validateField(this.selectedSchool.name,"School"),this.validateField(this.selectedAge.name,"Age");var t=this.generateNewStudents(this.studentsNumber,this.selectedSchool.name,this.selectedAge.name);this.state.addStudents(t),this.closeSidebarPanel()}}},Et=At,jt=(n("7775"),Object(O["a"])(Et,Ot,yt,!1,null,null,null)),kt=jt.exports,It={components:{StudentsList:xt,AddStudentsPanel:kt},data:function(){return{isPanelOpen:!1,state:r}},methods:{onAddPanelClosing:function(){this.isPanelOpen=!1},openAddPanel:function(){this.isPanelOpen=!0},deleteStudents:function(){confirm("Do you want to delete all the students data?")&&this.state.deleteAllStudents()}}},Ft=It,Gt=(n("82ae"),Object(O["a"])(Ft,ht,gt,!1,null,"3e391968",null)),$t=Gt.exports,Dt=n("8def"),Ut=(n("da93"),{data:function(){return{}},components:{FormWizard:u["FormWizard"],TabContent:u["TabContent"],InitiativesSetup:K,GoalsSetup:pt,StudentsAndTeachersSetup:$t,SponsorsAndESGsSetup:Dt["default"]},mounted:function(){localStorage.lastStep&&(console.log("Local storage contains information about last step: ".concat(localStorage.lastStep)),this.$refs.fwizard.changeTab(this.$refs.activeTabIndex,Number(localStorage.lastStep)))},methods:{onComplete:function(){alert("Yay. Done!")},onStepChanged:function(t,e){console.log("Step switched from ".concat(t," to ").concat(e)),[0,1,2,3,4].includes(e)&&localStorage.setItem("lastStep",e)}}}),Lt=Ut,Tt=(n("2fe3"),Object(O["a"])(Lt,c,d,!1,null,null,null)),Bt=Tt.exports;r.loadStateFromLocalStorage();var Mt={name:"app",components:{Dashboard:Bt},methods:{clearData:function(){confirm("Are you sure you want to remove all the data (initiatives, schools, service providers)?")&&r.clearState()}}},zt=Mt,Rt=(n("60bc"),n("b0a0"),Object(O["a"])(zt,i,s,!1,null,null,null)),qt=Rt.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(qt)}}).$mount("#app"),a["a"].directive("mdl",{bind:function(t){t&&window.componentHandler.upgradeElement(t)}})},"57f3":function(t,e){},"58b8":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sponsors-and-esgs-setup-container"},[n("h4",[t._v("\n    Create the Sponsors of each initiative\n    "),n("br"),t._v("and measure impact based on their ESGs\n  ")])])}];n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}))},"5e00":function(t,e,n){"use strict";var a=n("80a6"),i=n.n(a);i.a},6443:function(t,e,n){},"6d0e":function(t,e,n){"use strict";var a=n("497d"),i=n.n(a);i.a},7775:function(t,e,n){"use strict";var a=n("6443"),i=n.n(a);i.a},"80a6":function(t,e,n){},"82ae":function(t,e,n){"use strict";var a=n("1fa6"),i=n.n(a);i.a},"82f1":function(t,e,n){"use strict";var a=n("57f3"),i=n.n(a);e["default"]=i.a},"832c":function(t,e,n){"use strict";var a=n("0408"),i=n.n(a);i.a},"8def":function(t,e,n){"use strict";var a=n("58b8"),i=n("82f1"),s=n("2877"),o=Object(s["a"])(i["default"],a["a"],a["b"],!1,null,"27f67846",null);e["default"]=o.exports},"972a":function(t,e,n){},"997d":function(t,e,n){},b0a0:function(t,e,n){"use strict";var a=n("07bb"),i=n.n(a);i.a},b4a1:function(t,e,n){"use strict";var a=n("e591"),i=n.n(a);i.a},d2ed:function(t,e,n){"use strict";var a=n("d7b1"),i=n.n(a);i.a},d7b1:function(t,e,n){},e27e:function(t,e,n){"use strict";var a=n("972a"),i=n.n(a);i.a},e591:function(t,e,n){}});
//# sourceMappingURL=app.b3ddb3f5.js.map